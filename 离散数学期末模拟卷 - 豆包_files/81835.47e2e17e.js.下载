"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["81835"],{86625:function(e,r,t){t.d(r,{createPersistOptions:function(){return p}});var n=t("83680"),a=t.n(n),o=t("4191"),i=t("68461"),l=t("83911"),s=t("35680");let c=e=>{let{storeName:r,action:t,fn:n}=e;return async function(){for(var e,i,l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];try{return await n.apply(null,s)}catch(n){if("undefined"!=typeof navigator&&"function"==typeof(null===(i=navigator)||void 0===i?void 0:null===(e=i.storage)||void 0===e?void 0:e.estimate)){let[{usage:e,quota:r},t,n]=await Promise.all([navigator.storage.estimate().then(e=>e||{usage:0,quota:0}).catch(()=>({usage:0,quota:0})),navigator.storage.persist().catch(()=>!1),navigator.storage.persisted().catch(()=>!1)]);Object.assign({},{usageSpace:"".concat(null!=e?e:0," MB"),quotaSpace:"".concat(null!=r?r:0," MB"),persist:t,persisted:n,driver:a().driver(),driverSupported:a().supports(a().driver())})}o.logger.persist.error({message:"[".concat(r,"] persist storage action error: ").concat(t," failed"),error:n instanceof Error?n:Error(String(n))})}}},u=e=>{let{persistStorage:r,storeName:t}=e,{getItem:n,setItem:a,removeItem:o}=r;return r.setItem=(0,i.default)(c({storeName:t,action:"setItem",fn:a}),1e3),r.getItem=c({storeName:t,action:"getItem",fn:n}),r.removeItem=c({storeName:t,action:"removeItem",fn:o}),r},d=e=>void 0!==e&&"undefined"!=typeof window,g=async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"samantha-web",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["undefined-chat-voice-store"];if(!d(e))return;let n="undefined";try{for(let a of(await e.keys()))if(a.includes(n)){if(t.includes(a)){let t=await e.getItem(a);await e.setItem(a.replace(n,r),t)}e.removeItem(a)}}catch(e){}};var m=t("71775"),f=t("37903");let v=e=>{let{filterFn:r,storageFn:t,storeName:n}=e;return u({storeName:n||"samantha-web",persistStorage:(null==t?void 0:t())||function(e){let r="undefined"==typeof window?{getItem:()=>Promise.resolve(null),setItem:()=>Promise.resolve(null),removeItem:()=>Promise.resolve(null)}:a().createInstance({name:"samantha-web",storeName:"store"});return g(r),{getItem:async e=>new Promise((t,n)=>{var a;null===(a=r.getItem(e))||void 0===a||a.then(t,n),setTimeout(()=>{n(Error("getItem ".concat(e," timeout, timeout after 10000ms")))},1e4)}),setItem:async(t,n)=>{var a;let o=null!==(a=null==e?void 0:e(n))&&void 0!==a?a:n;await r.setItem(t,o)},removeItem:async e=>{await r.removeItem(e)}}}(r)})},p=e=>{let{version:r,name:t,prefix:n,storage:a,merge:i,onRehydrateStorage:c,filterFn:u,...d}=e,g=o.logger.createLoggerWith({ctx:{namespace:"persist"}});return{name:"".concat(n,"-").concat(e.name.replace("undefined","deprecated")),storage:v({storeName:t,filterFn:u,storageFn:()=>a}),version:null!=r?r:1,merge:null!=i?i:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"samantha-web-store";return(r,t)=>{try{let e=(0,l.default)(r)?{}:r;return{...(0,s.default)(t),...e}}catch(r){r instanceof Error&&o.logger.persist.error({message:"[".concat(e,"], persist merge error"),error:r})}return t}}(t||"samantha-web-store"),onRehydrateStorage:null!=c?c:e=>{let r="[".concat(t,"] persist storage hydration");return g.console.info({message:"".concat(r," started"),meta:{state:e}}),(e,t)=>{t?g.persist.error({message:"".concat(r," error"),error:t instanceof Error?t:Error(String(t))}):g.console.info({message:"".concat(r," finished"),meta:{state:e}})}},...(0,m.default)(d,f.default)}}},74215:function(e,r,t){t.d(r,{useGetLanguageDirectionOfText:function(){return g},isRTL:function(){return s},getLanguageDirection:function(){return c},getUnreactiveLanguage:function(){return l}});var n=t("52983"),a=t("14794");let o=["ae","aeb","ajt","apc","apd","ar","ara","arb","arc","arq","ars","ary","arz","ave","avl","bal","bcc","bej","bft","bgn","bqi","brh","cja","ckb","cld","dcc","dgl","div","drw","dv","fa","fas","fia","fub","gbz","gjk","gju","glk","grc","gwc","gwt","haz","he","heb","hnd","hno","iw","ji","kas","kby","khw","ks","kvx","kxp","kzh","lad","lah","lki","lrc","luz","mde","mfa","mki","mvy","myz","mzn","nqo","oru","ota","otk","oui","pal","pbu","per","pes","phl","phn","pnb","pra","prd","prs","ps","pus","rhg","rmt","scl","sd","sdh","shu","skr","smp","snd","sog","swb","syr","tnf","trw","ug","uig","ur","urd","wni","xco","xld","xmn","xmr","xna","xpr","xsa","ydd","yi","yid","zdj"];var i=t("43285");let l=()=>"undefined"==typeof navigator?"":navigator.language,s=e=>{var r,t,n,o,i;return!!("undefined"!=typeof process&&[null===(t=process)||void 0===t?void 0:null===(r=t.env)||void 0===r?void 0:r.DEPLOY_CDN_REGION,null===(o=process)||void 0===o?void 0:null===(n=o.env)||void 0===n?void 0:n.REGION].every(e=>"cn"!==e))&&null!==(i=(0,a.isRtlLang)(null!=e?e:l()))&&void 0!==i&&i},c=e=>s(e)?"rtl":"ltr",u=e=>new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF","]*[").concat("\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC","]")).test(e),d=async function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let n=e.trim();if(!n)return r;let{franc:a}=await (0,i.retryLoad)(()=>t.e("78319").then(t.bind(t,54141))),l=a(n,{minLength:20});if("und"===l)return u(n.charAt(0));return o.includes(l)}catch(e){return r}},g=function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[t,a]=(0,n.useState)("ltr"),o=async()=>{a(await d(e,r)?"rtl":"ltr")};return(0,n.useEffect)(()=>{o()},[e,r]),t}},35742:function(e,r,t){t.d(r,{defaultFlowAccountStore:function(){return a}});var n=t(45002);let a={userInfo:null,userInfoLoaded:!1,userProfile:null,thirdLoginList:Object.keys((0,n.default)({aweme_v2:!0,apple:!0,google:!1},e=>!!e)),thirdLoginListLoaded:!1}},59146:function(e,r,t){t.d(r,{getUserId:function(){return l},getUserInfo:function(){return o},useUserIdStr:function(){return u},useUserInfo:function(){return i},useUserNickName:function(){return c},useUserProfile:function(){return s}});var n=t(33434),a=t(76742);let o=()=>a.useFlowAccountStore.getState().userInfo,i=()=>(0,a.useFlowAccountStore)(e=>e.userInfo,n.shallow),l=()=>{var e;return null===(e=o())||void 0===e?void 0:e.user_id_str},s=()=>(0,a.useFlowAccountStore)(e=>e.userProfile,n.shallow),c=()=>(0,a.useFlowAccountStore)(e=>{var r;return null===(r=e.userInfo)||void 0===r?void 0:r.name}),u=()=>(0,a.useFlowAccountStore)(e=>{var r;return null===(r=e.userInfo)||void 0===r?void 0:r.user_id_str})},76742:function(e,r,t){t.d(r,{initFlowAccountStore:function(){return g},useFlowAccountStore:function(){return d}});var n=t("37222"),a=t("85205"),o=t("86625"),i=t("4191");let l=e=>{try{var r;return{launchSecUserId:e.launchSecUserId,userProfile:{nickname:null===(r=e.userProfile)||void 0===r?void 0:r.nickname,loaded:!1}}}catch(e){return i.logger.persist.error({message:"[@flow-account-store] persist state limit error",error:e instanceof Error?e:Error(String(e))}),{}}};var s=t("35742");let c=()=>({...s.defaultFlowAccountStore}),u=e=>{let{prefix:r,isEnableDebug:t,reduxDevToolsSnapshot:i,partialize:s,merge:u}=e,d=(0,o.createPersistOptions)({name:"flow-account-store",prefix:r||"default",version:1,partialize:null!=s?s:l,merge:u}),g=(0,n.persist)((0,n.subscribeWithSelector)(c),d);return t&&i?(0,a.create)()((0,n.devtools)(g,{name:"".concat(r,"-flow-account-store")})):(0,a.create)()(g)},d=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];let{_useFlowAccountStore:n}=d.prototype;if(n)return n(...r);throw Error("useFlowAccountStore is not initialized")};function g(e){let{_useFlowAccountStore:r}=d.prototype||{};if(!r){let r=u({...e});Object.setPrototypeOf(d.prototype,r),Object.defineProperties(d,{...Object.getOwnPropertyDescriptors(r)}),d.prototype._useFlowAccountStore=r}}},45294:function(e,r,t){t.d(r,{ErrorBoundary:function(){return d},ErrorBoundaryScopeEnum:function(){return u},withErrorBoundary:function(){return g}});var n,a=t(97458),o=t(90823),i=t(52983),l=t(96423),s=t(6038),c=t(60049);let u=((n={}).Page="page",n.Component="component",n),d=(0,i.forwardRef)((e,r)=>{let{onError:t,errorBoundaryName:n="unknown",logger:d,children:g,errorBoundaryScope:m=u.Component,...f}=e,v=(0,s.useLogger)({allowNull:!0}),p=d||v;let{fallback:h,fallbackRender:y,FallbackComponent:w}=f,_=(0,i.useCallback)((0,l.default)(()=>{null==p||p.persist.error({eventName:"error_boundary_fallback_props_empty",error:Error("error_boundary_fallback_props_empty"),meta:{errorBoundaryName:n,errorBoundaryScope:m,is_package:1}})}),[]);!("function"==typeof y||w||null===h||(0,i.isValidElement)(h))&&(_(),f.fallback=null);let x=(0,i.useCallback)((e,r)=>{let{componentStack:a}=r,o={reportJsError:!0,errorBoundaryName:n,errorBoundaryScope:m,reactInfo:{componentStack:a,version:i.version,is_package:1}};e instanceof c.ApiError?null==p||p.persist.error({eventName:"react_error_by_api_collection",error:e,meta:o}):null==p||p.persist.error({eventName:"react_error_collection",error:e,meta:o}),null==t||t(e,r)},[]);return(0,a.jsx)(o.ErrorBoundary,{...f,onError:x,ref:r,children:g})});function g(e,r){let t=t=>(0,a.jsx)(d,{...r,children:(0,a.jsx)(e,{...t})}),n=e.displayName||e.name||"Unknown";return t.displayName="withErrorBoundary(".concat(n,")"),t}},29245:function(e,r,t){t.d(r,{useAutoReload:function(){return s}});var n=t(52983),a=t(82686),o=t(4191),i=t(6029);let l="session_auto_reloaded",s=e=>{(0,n.useEffect)(()=>{o.logger.persist.info({eventName:"boundary_auto_reload",meta:{from:e}}),sessionStorage.getItem(l)?o.logger.persist.info({eventName:"boundary_auto_reload_failed",meta:{from:e}}):(a.Toast.error({content:i.I18n.t("page_load_error_and_auto_refresh"),showClose:!1,theme:"light"}),setTimeout(()=>{try{sessionStorage.setItem(l,"1"),location.reload()}catch(r){o.logger.persist.error({eventName:"boundary_auto_reload_catched",error:r,meta:{from:e}})}},1e3))},[])}},34824:function(e,r,t){t.d(r,{default:function(){return o}});var n=t("97458");t("52983");var a=t("28520"),o=(0,a.IconFactory)((0,n.jsx)(e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M11.996 19.992a7.7 7.7 0 0 1-3.09-.628 8.1 8.1 0 0 1-2.551-1.727 8.1 8.1 0 0 1-1.734-2.544A7.8 7.8 0 0 1 4 11.996q0-1.643.62-3.09a8.3 8.3 0 0 1 1.727-2.551A8.1 8.1 0 0 1 8.9 4.628 7.7 7.7 0 0 1 11.996 4q1.643 0 3.09.628 1.454.621 2.551 1.727a8.2 8.2 0 0 1 1.735 2.552q.628 1.446.628 3.09 0 1.65-.628 3.096a8.1 8.1 0 0 1-1.735 2.544 8 8 0 0 1-2.544 1.727 7.7 7.7 0 0 1-3.097.628m.008-6.868q.81 0 .855-.833l.13-3.263a.86.86 0 0 0-.266-.69q-.28-.271-.727-.272-.455 0-.734.265-.273.265-.25.69l.121 3.278q.045.825.87.825m0 2.742q.454 0 .757-.265a.87.87 0 0 0 .31-.697.87.87 0 0 0-.31-.697 1.1 1.1 0 0 0-.757-.265q-.454 0-.765.265a.87.87 0 0 0-.31.697q0 .432.31.697.318.264.765.265"})}),{}))},76021:function(e,r,t){t.d(r,{default:function(){return o}});var n=t("97458");t("52983");var a=t("28520"),o=(0,a.IconFactory)((0,n.jsx)(e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M12.154 20.65a8.1 8.1 0 0 1-3.29-.674 8.7 8.7 0 0 1-2.703-1.837 8.8 8.8 0 0 1-1.846-2.704 8.2 8.2 0 0 1-.665-3.29q0-1.74.665-3.28a8.7 8.7 0 0 1 1.837-2.713 8.8 8.8 0 0 1 2.713-1.837 8.2 8.2 0 0 1 3.28-.665q1.742 0 3.282.665a8.7 8.7 0 0 1 2.712 1.837 8.7 8.7 0 0 1 1.837 2.713q.674 1.54.674 3.28a8.2 8.2 0 0 1-.665 3.29 8.7 8.7 0 0 1-1.837 2.704 8.7 8.7 0 0 1-2.713 1.837 8.1 8.1 0 0 1-3.28.674m-1.505-3.736h3.483a.65.65 0 0 0 .463-.175.62.62 0 0 0 .193-.473.58.58 0 0 0-.193-.437.61.61 0 0 0-.463-.193h-1.006v-4.182q0-.375-.184-.595-.175-.227-.525-.227h-1.619a.66.66 0 0 0-.472.184.6.6 0 0 0-.193.455q0 .27.193.463a.66.66 0 0 0 .472.184h.884v3.719h-1.033a.64.64 0 0 0-.472.192.58.58 0 0 0-.192.438q0 .288.192.472a.68.68 0 0 0 .473.175m1.444-7.647q.472 0 .805-.341a1.12 1.12 0 0 0 .341-.823q0-.489-.34-.822a1.1 1.1 0 0 0-.806-.333 1.136 1.136 0 0 0-1.155 1.155q0 .481.333.823.34.34.822.341"})}),{}))},11434:function(e,r,t){t.d(r,{default:function(){return o}});var n=t("97458");t("52983");var a=t("28520"),o=(0,a.IconFactory)((0,n.jsx)(e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M6.268 19q-.687 0-1.194-.323a2.2 2.2 0 0 1-.79-.844A2.4 2.4 0 0 1 4 16.673q0-.615.306-1.168l5.75-10.338q.314-.576.844-.867.529-.3 1.104-.3.574 0 1.096.292.522.291.85.875l5.744 10.33A2.4 2.4 0 0 1 20 16.674q0 .63-.284 1.16a2.14 2.14 0 0 1-.783.844Q18.426 19 17.74 19zm5.743-5.5q.798.001.843-.844l.127-3.31q.015-.43-.261-.7-.276-.276-.716-.276-.448 0-.724.269-.268.27-.246.699l.12 3.326q.044.837.857.837m0 2.781q.448 0 .746-.269a.9.9 0 0 0 .306-.706.9.9 0 0 0-.306-.707 1.07 1.07 0 0 0-.746-.269 1.1 1.1 0 0 0-.753.27.9.9 0 0 0-.306.706q0 .438.306.706.314.27.753.27"})}),{}))},28520:function(e,r,t){t.d(r,{IconFactory:function(){return l}});var n=t(97458),a=t(52983),o=t(82943),i=t(74215);let l=e=>(0,a.forwardRef)(function(r,t){let{className:a,autoFitRTL:l,...s}=r;return(0,n.jsx)(o.default,{svg:e,...s,className:a,ref:t,style:l&&(0,i.isRTL)()?{transform:"scaleX(-1)"}:{}})})},23048:function(e,r,t){t.d(r,{SamanthaButton:function(){return c}});var n=t("97458"),a=t("52983"),o=t("87608"),i=t.n(o),l=t("72373"),s={"samantha-button":"samantha-button-aiwXEk",samanthaButton:"samantha-button-aiwXEk",primary:"primary-wnq5cX",secondary:"secondary-uIvuTO",tertiary:"tertiary-kH1mvr",quartary:"quartary-ISFRU8","danger-primary":"danger-primary-sgF_uT",dangerPrimary:"danger-primary-sgF_uT","danger-secondary":"danger-secondary-xDZDMj",dangerSecondary:"danger-secondary-xDZDMj","danger-tertiary":"danger-tertiary-skuyYJ",dangerTertiary:"danger-tertiary-skuyYJ","ai-primary":"ai-primary-u6cRYE",aiPrimary:"ai-primary-u6cRYE","rotate-anim":"rotate-anim-kGF60_",rotateAnim:"rotate-anim-kGF60_",large:"large-VxMAA0","icon-only":"icon-only-F0SkXG",iconOnly:"icon-only-F0SkXG",icon:"icon-a2WxRL",medium:"medium-UIYozi",small:"small-KxXD_B","ai-secondary":"ai-secondary-IfzcRm",aiSecondary:"ai-secondary-IfzcRm","image-primary":"image-primary-w_QZLn",imagePrimary:"image-primary-w_QZLn","image-secondary":"image-secondary-GOJ8E3",imageSecondary:"image-secondary-GOJ8E3","image-primary-dark":"image-primary-dark-VutrUP",imagePrimaryDark:"image-primary-dark-VutrUP","image-secondary-dark":"image-secondary-dark-ucj69L",imageSecondaryDark:"image-secondary-dark-ucj69L",logo:"logo-hSYUgD","icon-right":"icon-right-uCgNGN",iconRight:"icon-right-uCgNGN"};let c=a.forwardRef(function(e,r){let{type:t="primary",size:a="medium",logo:o=!1,...c}=e,{icon:u,iconPosition:d}=c,g=u||e.loading,m=u&&o;return(0,n.jsx)(l.Button,{ref:r,...c,theme:"solid",type:"primary",size:"default",className:i()(s["samantha-button"],s[t],s[a],{[s.icon]:g,[s["icon-right"]]:g&&"right"===d,[s["icon-only"]]:g&&!e.children,[s.logo]:m},c.className),children:e.children})})},82686:function(e,r,t){t.d(r,{Toast:function(){return m},SamanthaToast:function(){return m}});var n,a=t("97458"),o=t("76021"),i=t("11434"),l=t("34824");t("52983");var s=t("28520"),c=(0,s.IconFactory)((0,a.jsx)(e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M11.996 19.992a7.7 7.7 0 0 1-3.09-.628 8.1 8.1 0 0 1-2.551-1.727 8.1 8.1 0 0 1-1.734-2.544A7.8 7.8 0 0 1 4 11.996q0-1.643.62-3.09a8.3 8.3 0 0 1 1.727-2.551A8.1 8.1 0 0 1 8.9 4.628 7.7 7.7 0 0 1 11.996 4q1.643 0 3.09.628 1.454.621 2.551 1.727a8.2 8.2 0 0 1 1.735 2.552q.628 1.446.628 3.09 0 1.65-.628 3.096a8.1 8.1 0 0 1-1.735 2.544 8 8 0 0 1-2.544 1.727 7.7 7.7 0 0 1-3.097.628m-.833-4.202a.9.9 0 0 0 .455-.114 1.1 1.1 0 0 0 .363-.34l3.521-5.377q.09-.144.144-.295.06-.152.06-.295a.73.73 0 0 0-.264-.576.88.88 0 0 0-.599-.227q-.446 0-.75.485l-2.945 4.687-1.325-1.62a1 1 0 0 0-.318-.273.8.8 0 0 0-.371-.084.8.8 0 0 0-.59.25.8.8 0 0 0-.25.591q0 .166.06.318.06.151.19.31l1.771 2.12q.182.22.386.334a1 1 0 0 0 .462.106"})}),{})),u=t("87608"),d=t.n(u),g=t("72373");let m=(n=g.ToastFactory.create({zIndex:5e3}),[{method:"info",icon:(0,a.jsx)(o.default,{})},{method:"success",icon:(0,a.jsx)(c,{})},{method:"warning",icon:(0,a.jsx)(i.default,{})},{method:"error",icon:(0,a.jsx)(l.default,{})}].forEach(e=>{let{method:r,icon:t}=e,a=n[r];n[r]=e=>{let r=e;return"string"==typeof e&&(r={content:e}),a.call(n,Object.assign({showClose:!1,icon:t},r,{className:d()("samantha-toast",r.className||"")},{theme:"light"}))}}),n)},55244:function(e,r,t){t.d(r,{trackEvent:function(){return u}});var n=t(4191),a=t(78569),o=t(75902);let i=new Map(["picture_message_show","show_suggested_prompt_single_question","show_suggested_prompt","video_card_show","show_onboarding_card_single_question","show_onboarding_card","music_card_show"].map(e=>[e,0])),l=(e,r)=>{var t,n;if(!e||!i.has(e))return!1;let a,o=300;"string"==typeof r?a=r:"object"==typeof r&&(a=null==r?void 0:r.key,o=null!==(t=null==r?void 0:r.duration)&&void 0!==t?t:o);let l=Date.now(),s=void 0===a?e:"".concat(e,"_").concat(a);return!!i.has(s)&&!(l-(null!==(n=null==i?void 0:i.get(s))&&void 0!==n?n:0)>o)||(i.set(s,l),!1)},s=e=>"object"==typeof e&&e.withSlardar,c=(e,r)=>{let{getTrackEventContext:t,getOriginTrackEventContextList:n}=o.useTrackEventContextStore.getState(),a=r.map(r=>{let n=t(r,{eventName:e});if(!n)return{};let{value:a,extra:o}=n,{enableEventName:i}=o;return!(null==i?void 0:i.length)||i.length&&i.includes(e)?a:{}}),i=n({eventName:e}).filter(r=>{let{global:t,enableEventName:n}=r.extra||{};if(t&&(!(null==n?void 0:n.length)||n.length&&n.includes(e)))return!0}).map(e=>e.value)||[],l={};return a.concat(i).forEach(e=>{Object.assign(l,e)}),l},u=(e,r,t,o)=>{let i=(0,a.getTeaInstance)();if(!i||void 0!==t&&l(e,t))return;let u=c(e,(null==t?void 0:t.ctx)||[]),d={current_page:u.current_page,previous_page:u.previous_page};(!u.current_page||"other"===u.current_page&&(null==r?void 0:r.current_page))&&delete d.current_page,(!u.previous_page||"other"===u.previous_page&&(null==r?void 0:r.previous_page))&&delete d.previous_page;try{let a={...u,...r,...d};null==i||i.event(e,a),o&&(null==i||i.clearEventCache()),s(t)&&n.logger.persist.log({eventName:e,meta:a})}catch(t){t instanceof Error&&n.logger.persist.error({eventName:"track_event_error",error:t,meta:{event:e,params:r}})}}},75902:function(e,r,t){t.d(r,{useTrackEventContextStore:function(){return u}});var n=t(37903),a=t(30413),o=t(24550),i=t(85205),l=t(37222),s=t(4191);let c=(e,r)=>({contextMap:{},setTrackEventContext(t,i,l){if(!t||(0,n.default)(i)){s.logger.console.warning("[Tea] ctxName \u6216 ctxPayload \u4E3A\u7A7A");return}!t.startsWith("ctx")&&s.logger.console.warning("[Tea] key ".concat(t,' must start with "ctx_".'));let{contextMap:c}=r();(0,a.default)(c,(e,r)=>{if(e&&t!==r){let n=(0,o.default)(Object.keys(e.value),Object.keys(i));n.length&&s.logger.persist.warning("[Tea] ".concat(t," \u548C ").concat(r," \u4E2D\u5305\u542B\u6709\u76F8\u540C\u7684\u4E0A\u4E0B\u6587\u5185\u5BB9 ").concat(n.toString()))}});let{global:u=!1,enableEventName:d=null}=l||{};c[t]={value:i,extra:{global:u,enableEventName:d}},e({contextMap:c})},getTrackEventContext(e,t){let n;if(!e){s.logger.console.warning("ctxName \u4E3A\u7A7A");return}let{contextMap:a}=r(),o=a[e];if(!o){s.logger.console.warning("Context ".concat(e," \u4E3A\u7A7A."));return}let i=o.value;return{value:n="function"==typeof i?null==i?void 0:i(t):i,extra:o.extra}},getOriginTrackEventContextList(e){let{contextMap:t,getTrackEventContext:n}=r();return Object.keys(t).map(r=>{let t=n(r,e);return t?{ctxName:r,...t}:{ctxName:r,value:{},extra:{}}})},clearTrackEventContext(r){e(e=>{let t={...e.contextMap};return delete t[r],{contextMap:{...e.contextMap}}})},getAllTrackEventContext(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n={},{contextMap:o,getTrackEventContext:i}=r();return(0,a.default)(o,(r,a)=>{let{value:o,extra:l}=i(a,t)||{};(!e||e&&(null==l?void 0:l.global))&&(n={...n,...o})}),n}}),u=(()=>{let e=(0,l.subscribeWithSelector)(c);return(0,i.create)()(e)})()}}]);