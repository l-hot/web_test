"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["70687"],{9315:function(t,e,r){r.d(e,{createReportEvent:function(){return a}});var n=r(4191),i=r(2e4);let o=t=>{let e,{eventName:r,logger:o=n.logger,meta:a,once:u=!1}=t,c=[],l=0,s=!1,d=()=>{l=Date.now(),o.persist.info({eventName:"".concat(r,"_start"),meta:{...f()}})},f=()=>({...a,...s?{event_has_finished:!0}:{}}),g=()=>{if(0!==c.length)return c.reduce((t,e,r)=>{let{pointName:n}=e;return t[n]=e.time-l,(0,i.default)(t,["interval",n],0===r?t[n]:e.time-c[r-1].time),t},{})},v=function(){let{meta:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!u||!s)o.persist.success({eventName:r,meta:{...f(),success:1,duration:g(),...t}}),s=!0},m=t=>{let{reason:e,error:n,meta:i}=t;if(!u||!s)o.persist.error({eventName:r,error:n||Error(e),meta:{...f(),success:0,reason:e,duration:g(),...i}}),s=!0};return d(),{name:"ReportEvent",start:d,cancel:()=>{clearTimeout(e),s=!0},success:v,successIfIdle:(t,r,n)=>{clearTimeout(e),e=setTimeout(()=>s?void 0:(v(r),null==n?void 0:n()),t)},error:m,errorIfIdle:(t,r,n)=>{clearTimeout(e),e=setTimeout(()=>s?void 0:(m(r),null==n?void 0:n()),t)},addDurationPoint:function(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=c.find(e=>e.pointName===t);n?(e&&(n.time=Date.now()),r&&(n.time=r)):c.push({pointName:t,time:r||Date.now()}),c.sort((t,e)=>t.time-e.time)},getDuration:g,getDurationTimestamp:()=>{if(0!==c.length)return c.reduce((t,e)=>{let{pointName:r}=e;return t[r]=e.time,t},{})},reportDurationPoint:function(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=c.find(e=>e.pointName===t);if(!e||(null==n?!void 0:!n.reported))o.persist.info({eventName:"".concat(r,"_duration_").concat(t),meta:{...f()}}),n&&(n.reported=!0)},getMeta:f,updateMeta:t=>{a={...a,...t}},getFinishStatus:()=>s,setStartTime:t=>{l=t}}},a=t=>{let{logger:e=n.logger,...r}=t;return o({logger:e,...r})}},60768:function(t,e,r){r.d(e,{autoExpandFunction:function(){return v},convertBytes:function(){return _},findAndGet:function(){return P},getByIndex:function(){return S},isNumeric:function(){return f},isStringArray:function(){return d},loadScript:function(){return g},notUndefined:function(){return m},sleep:function(){return p},toArray:function(){return E},toValidNumber:function(){return h}});var n=r(40521),i=r(97275),o=r(77590),a=r(3820),u=r(37903),c=r(6361),l=r.n(c),s=r(81595);let d=t=>(0,n.default)(t)&&t.every(i.default),f=t=>{let e=t.replace(/,/g,"");return!isNaN(e)&&!isNaN(parseFloat(e))},g=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{timeout:r}=e,n=new Promise((e,r)=>{l()(t,t=>{t?r(t):e()})});(0,o.default)(r)?await Promise.race([n,(0,s.timeoutPromise)(r)]):await n},v=t=>(0,a.default)(t)?t():t,m=t=>!(0,u.default)(t),_=t=>{if(t<0)return"0B";let e=Math.floor(t);return e<1024?"".concat(e,"B"):e<1048576?"".concat(Math.round(e/1024),"KB"):e<0x40000000?"".concat(Math.round(e/1048576),"MB"):"".concat(Math.round(e/0x40000000),"GB")},p=t=>{let e;let r=new Promise(t=>{e=t});return setTimeout(()=>{null==e||e()},t),r},h=t=>{let e=Number(t);if(!isNaN(e))return e},P=(t,e)=>{for(let r of t){let t=e(r);if(!1!==t)return[r,t]}},E=t=>(0,u.default)(t)?[]:(0,n.default)(t)?t:[t],S=(t,e)=>null==t?void 0:t[e]},89203:function(t,e,r){r.d(e,{ExternalLink:function(){return a}});var n=r(14970);let i=["doubao.com","ciciai.com","tiktok.com","douyin.com","bytedance.com"],o="https://".concat("www.doubao.com","/to");class a{static updateConfig(t){void 0!==t.needInterceptExternalLink&&(c._=t.needInterceptExternalLink),void 0!==t.whitelist&&(l._=[...i,...t.whitelist||[]])}static transformExternalLink(t){return c._&&t&&u.call(a,t)?"".concat(o,"?target=").concat(encodeURIComponent(t)):t}getWhitelist(){return l._}constructor(){}}function u(t){let{hostname:e}=window.location;if(!(0,n.isAbsoluteUrl)(t))return!1;let r=!1;try{let n=new URL(t).hostname.toLocaleLowerCase();r=!(n===e||l._.some(t=>n.endsWith(".".concat(t))||n===t))}catch(t){}return r}var c={_:!1},l={_:[...i]}},98993:function(t,e,r){r.d(e,{safelyGetNow:function(){return n}});let n=()=>{try{var t,e;return null===(e=window)||void 0===e?void 0:null===(t=e.performance)||void 0===t?void 0:t.now()}catch(t){return Date.now()}}},79963:function(t,e,r){r.d(e,{getTracingActions:function(){return g},initTracingStore:function(){return f},useTracingStore:function(){return d}});var n=r(37222),i=r(85205),o=r(77590),a=r(2945),u=r(98993),c=r(4191);let l=(t,e)=>({duration:{},addDurationPoint(e,r){t(t=>({duration:{[e]:(0,o.default)(r)?r:(0,u.safelyGetNow)(),...t.duration}}))},addDurationPoints(e){t(t=>({duration:{...Object.fromEntries(Object.entries(e).map(t=>{let[e,r]=t;return[e,(0,o.default)(r)?r:(0,u.safelyGetNow)()]})),...t.duration}}))},error:(e,r)=>{t({reason:e,innerError:r})}}),s=t=>{let{isEnableDebug:e}=t,r=(0,n.subscribeWithSelector)(l);return e?(0,i.create)()((0,n.devtools)(r,{name:"flow-web-chat-tracing-store"})):(0,i.create)()(r)},d=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let{_useTracingStore:n}=d.prototype;if(n)return n(...e);throw Error("useTracingStore is not initialized")};function f(t){let{_useTracingStore:e}=d.prototype||{};if(!e){let e=s(t);Object.setPrototypeOf(d.prototype,e),Object.defineProperties(d,{...Object.getOwnPropertyDescriptors(e)}),d.prototype._useTracingStore=e}}let g=()=>{try{let t=d.getState();return{addDurationPoint:t.addDurationPoint,addDurationPoints:t.addDurationPoints,error:t.error}}catch(t){return c.logger.console.error({message:"useTracingStore.getState error",error:t}),{addDurationPoint:a.default,addDurationPoints:a.default,error:a.default}}}},8293:function(t,e,r){r.d(e,{TCC_CDN_CONFIG_URL:function(){return i},brandName:function(){return o},desktopDownloadPath:function(){return n}});let n="/service/settings/v3/?device_platform=web&brand=doubao&aid=582465",i="https://lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-flow.web.doubao-default",o="\u8C46\u5305"},38676:function(t,e,r){r.d(e,{useTccConfigStore:function(){return s}});var n=r(37222),i=r(85205),o=r(59574),a=r(85217),u=r(4191),c=r(97959),l=r(8293);let s=(0,i.create)()((0,n.subscribeWithSelector)((t,e)=>({isLoading:!1,tccConfig:{},fetchTccConfig:async()=>{let{tccConfig:r,isLoading:n}=e();if(!(0,o.default)(r)&&!n)return r;if(n)return new Promise(t=>{let e=s.subscribe(t=>[t.tccConfig,t.isLoading],r=>{let[n,i]=r;!i&&(t(n),e())},{fireImmediately:!0})});t({isLoading:!0});try{var i,d;let e=await (0,c.rawRequest)({method:"GET",url:l.TCC_CDN_CONFIG_URL}),r=null!==(d=null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.data)&&void 0!==d?d:{},n=(0,a.default)(r,t=>JSON.parse(t||"{}"));return t({tccConfig:n,isLoading:!1}),n}catch(e){return e instanceof Error&&u.logger.persist.error({eventName:"get_tcc_config_error",error:e}),t({isLoading:!1}),r}}})))},38501:function(t,e,r){r.d(e,{useAutoVisitPageCollect:function(){return s},useManualVisitPageCollect:function(){return l}});var n=r("52983"),i=r("68950"),o=r("57242"),a=r("37222"),u=r("85205");let c=(0,u.create)()((0,a.subscribeWithSelector)(t=>({isStopHocCollect:!1,setIsStopHocCollect(e){t({isStopHocCollect:e})}}))),l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,{setIsStopHocCollect:i}=c.getState();(0,n.useEffect)(()=>{i(!0);let e=(0,o.setVisitPage)(t());return()=>{r&&(0,o.setVisitPage)(e),i(!1)}},e)},s=t=>{let{isStopHocCollect:e}=c.getState(),r=(0,i.useLocation)();if(!e){let{curPage:e,prevPage:n}=(0,o.getVisitPageFromLocation)(r,t);(0,o.setVisitPage)(e,n)}}},57242:function(t,e,r){r.d(e,{setVisitPage:function(){return l},getVisitPage:function(){return u},getVisitPageFromLocation:function(){return f}});var n=r("75902");let i=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.useTrackEventContextStore.getState().setTrackEventContext(...e)},o=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.useTrackEventContextStore.getState().getTrackEventContext(...e)};var a=r("40469");let u=()=>{let{value:t}=o(a.TeaCtxName.VisitPage)||{};return t||{}},c=()=>{let{current_page:t}=u();return t},l=(t,e)=>{let r=c(),n=e||r;return t&&i(a.TeaCtxName.VisitPage,{current_page:t,previous_page:n},{global:!0}),n},s=(t,e)=>{let{pathname:r}=t;if(e===a.RouteEntryName.Thread)return a.VisitPage.SHARE_DESTINATION_PAGE;if(e===a.RouteEntryName.AiSpaceShare)return a.VisitPage.AI_SPACE_SHARE_PAGE;let n=r.endsWith("/")?r.slice(0,-1):r;if(/^\/chat\/drive\/share\/?$/.test(n))return a.VisitPage.AI_SPACE_MY_SHARE;if(/^\/chat\/drive(\/\d+)?$/.test(n))return a.VisitPage.AI_SPACE;if(/^\/chat(\/\d+)?$/.test(n))return a.VisitPage.CHAT;if(n.includes("local_"))return c();let i=n.split("/chat/")[1],o=a.SkillGuidancePageRouteVisitPageMap[i];return o?o:"/chat/settings/profile"===n?a.VisitPage.PROFILE_SETTING:"/chat/settings"===n?a.VisitPage.SETTING:"/chat/bot/create"===n?a.VisitPage.BOT_CREATE_PAGE:/^\/chat\/collection$/.test(n)?a.VisitPage.COLLECT_LIST:/^\/chat\/collection\/\w+$/.test(n)?a.VisitPage.COLLECT__DETAIL_PAGE:"/chat/update"===n?a.VisitPage.UPDATE_DETAIL:a.VisitPage.OTHER},d=t=>{let{search:e}=t;return new URLSearchParams(e).get("prev_page")||""},f=(t,e)=>({curPage:s(t,e),prevPage:d(t)})},9746:function(t,e,r){r.d(e,{useInitExternalLink:function(){return i}});var n=r(52983);r(89203),r(38676),r(62044);let i=()=>{(0,n.useEffect)(()=>{},[])}},26093:function(t,e,r){r.d(e,{useSSRRenderLevelReport:function(){return a}});var n=r(52983),i=r(51401),o=r(4191);let a=()=>{(0,n.useEffect)(()=>{var t,e;if("object"!=typeof window)return;let r=i.default.get("distributary_main_ssr_state")||"0",n="".concat(null!==(e=null===(t=window._SSR_DATA)||void 0===t?void 0:t.renderLevel)&&void 0!==e?e:"");o.logger.persist.info({eventName:"ssr_render_level_result",meta:{is_main_ssr:r,render_level:n,ssr_success:"1"===r&&"2"===n?"1":"0"}})},[])}},95360:function(t,e,r){r.d(e,{initLoggerWithSlardar:function(){return a}});var n=r(4191),i=r(75153),o=r(33005);let a=()=>{(0,n.initLogger)({disableConsole:!(0,i.isEnableDebug)(),slardarInstance:o.getSlardar})}}}]);