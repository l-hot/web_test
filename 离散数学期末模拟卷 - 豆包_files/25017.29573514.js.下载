"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["25017"],{22030:function(e,t,n){e.exports=n.p+"static/image/default-user-avatar.1aa36468.png"},22431:function(e,t,n){var r,l;n.d(t,{UserConfigObject:function(){return i},UserConfigPullReason:function(){return a}});let i=((r={})[r.AnswerWithSuggest=1]="AnswerWithSuggest",r[r.AnswerWithVideo=2]="AnswerWithVideo",r[r.HighlightKeyword=3]="HighlightKeyword",r[r.OptOutVoice=4]="OptOutVoice",r[r.PersonalizedRecommend=5]="PersonalizedRecommend",r[r.SaveChatHistory=6]="SaveChatHistory",r[r.InputSuggest=10]="InputSuggest",r[r.UserAuth=30]="UserAuth",r[r.UseOgfSwitch=50]="UseOgfSwitch",r[r.CopilotSwitch=60]="CopilotSwitch",r[r.ActionBarSwitch=200]="ActionBarSwitch",r[r.ActionBarSwitch_DoubaoSpeak=201]="ActionBarSwitch_DoubaoSpeak",r);let a=((l={})[l.Startup=1]="Startup",l[l.Polling=2]="Polling",l[l.Notified=3]="Notified",l)},37902:function(e,t,n){n.d(t,{ErrorPageButton:function(){return u}});var r=n("97458"),l=n("87608"),i=n.n(l),a=n("72373"),o="backBtn-PA2u6q",s="btn-aIbOEZ";let u=e=>{let{text:t,className:n,onClick:l,type:u}=e;return(0,r.jsx)(a.Button,{size:"small",theme:"active"===u?"solid":void 0,type:"common"===u?"tertiary":void 0,onClick:l,className:i()("rounded-10",[s],n,{[o]:"common"===u}),children:t})}},66965:function(e,t,n){n.d(t,{CommonErrorPage:function(){return b}});var r=n("97458"),l=n("52983"),i=n("87608"),a=n.n(i),o=n("4191"),s=n("6029"),u=n("72373"),c=n("68950"),d=n("37902");let f="/chat/";var m=()=>{if("undefined"==typeof window)return null;let e=(0,c.useNavigate)();return location.pathname!==f?(0,r.jsx)(d.ErrorPageButton,{type:"common",onClick:()=>{location.pathname.startsWith(f)?e(f):window.location.href="".concat(window.location.origin).concat(f)},text:s.I18n.t("back_to_homepage_btn")}):null},g=n.p+"static/image/avatar-head.5127e41f.png",v=n("29245"),h={wrapper:"wrapper-BygklU",img:"img-qnO2Ju",title:"title-Rb3ha8","sub-title":"sub-title-j2PgHi","button-wrapper":"button-wrapper-mTe3EI","extra-wrapper":"extra-wrapper-ISWdz_"};let p=e=>{let{from:t}=e;return(0,v.useAutoReload)(t),(0,r.jsx)(d.ErrorPageButton,{type:"active",onClick:()=>{window.location.reload()},text:s.I18n.t("reload_page_btn")})},b=e=>{let{title:t,subTitle:n,showSubTitle:i,showAvatar:c,showHomeBtn:d,showReloadBtn:f,from:v,extraComp:b}=e;(0,l.useEffect)(()=>{o.logger.persist.info({eventName:"common_error_page",meta:{from:v,title:t,is_package:1}})},[]);let _=b?(0,l.isValidElement)(b)?b:(0,r.jsx)(b,{}):null;return(0,r.jsxs)("div",{className:a()(h.wrapper,"common-error-page"),children:[c?(0,r.jsx)("img",{src:g,className:h.img}):null,(0,r.jsx)("div",{className:h.title,children:t||s.I18n.t("page_not_available")}),i&&(0,r.jsx)("div",{className:h["sub-title"],children:n||s.I18n.t("page_not_available_desc")}),(d||f)&&(0,r.jsxs)(u.Space,{className:h["button-wrapper"],vertical:!0,spacing:10,children:[f&&(0,r.jsx)(p,{from:v}),d&&(0,r.jsx)(m,{})]}),(0,r.jsx)(u.Space,{className:a()(h["extra-wrapper"],"common-error-extra"),vertical:!0,spacing:10,children:_})]})}},56761:function(e,t,n){n.d(t,{useReviewStatusText:function(){return i},withSuspense:function(){return v.withSuspense},IconButton:function(){return g},useCollectionDelete:function(){return C}});var r=n("82892"),l=n("44768");let i=e=>{let t=(0,r.useTranslateFn)();switch(e){case l.DisabledTag.Reviewing:return t("voice_in_moderation");case l.DisabledTag.Ban:case l.DisabledTag.Rollback:return t("tag_review_failed");default:return""}};var a=n("97458"),o=n("52983"),s=n("87608"),u=n.n(s),c=n("72373");n("55048"),n("22030");var d=n("81595"),f=n("51996"),m={container:"container-rTvbGk","size-small":"size-small-g8K5v1",sizeSmall:"size-small-g8K5v1","size-default":"size-default-ecZDfN",sizeDefault:"size-default-ecZDfN","size-large":"size-large-ddG1FX",sizeLarge:"size-large-ddG1FX","theme-primary":"theme-primary-vBm9KU",themePrimary:"theme-primary-vBm9KU","set-svg-full":"set-svg-full-xL_fWQ",setSvgFull:"set-svg-full-xL_fWQ",hoverable:"hoverable-x7MD9v",mobile:"mobile-VtHD4h","theme-borderless":"theme-borderless-PHPQxn",themeBorderless:"theme-borderless-PHPQxn","theme-light":"theme-light-ku0OHr",themeLight:"theme-light-ku0OHr"};let g=(0,o.forwardRef)(function(e,t){let{theme:n="borderless",setSvgFull:r=!0,hoverable:l=!0,className:i,onMouseEnter:o,...s}=e,{disabled:g=!1,size:v="default"}=s;return(0,a.jsx)(c.Button,{ref:t,className:u()(m.container,m["size-".concat(v)],m["theme-".concat(n)],"!w-40 !h-40 ".concat(i),{"opacity-30":g,[m.hoverable]:l,[m.mobile]:(0,f.isMobile)(),[m["set-svg-full"]]:r}),...s,onMouseEnter:async e=>{(0,f.isMobile)()&&(0,f.isAppleWebkit)()&&await (0,d.timeoutPromise)(100),null==o||o(e)}})});var v=n("24325"),h=n("23048"),p={modal:"modal-l1EWDi","modal-title":"modal-title-OPgoRV","footer-wrapper":"footer-wrapper-gJl3bZ","footer-buttons":"footer-buttons-dE_tfX","remove-children-tip":"remove-children-tip-ceVqLh","confirm-delete-btn":"confirm-delete-btn-oVPeeS"};let b=e=>{let{visible:t,onCancel:n,okButtonProps:l,cancelButtonProps:i,hasChildren:s,onOk:u}=e,d=(0,r.useTranslateFn)(),[f,m]=(0,o.useState)(!1);return(0,a.jsxs)(c.Modal,{header:null,footer:null,centered:!0,width:"min(480px, 100%)",className:p.modal,maskStyle:{backgroundColor:"var(--static-black-transparent-1, rgba(0, 0, 0, 0.30))"},zIndex:1101,visible:t,onCancel:n,children:[(0,a.jsx)("div",{className:p["modal-title"],children:d("bookmarks_delete_title")}),(0,a.jsxs)("div",{className:p["footer-wrapper"],children:[s?(0,a.jsx)(c.Checkbox,{value:f,onChange:()=>{m(e=>!e)},children:(0,a.jsx)("span",{className:p["remove-children-tip"],children:d("bookmarks_remove_text_selection")})}):(0,a.jsx)("div",{}),(0,a.jsxs)("div",{className:p["footer-buttons"],children:[(0,a.jsx)(h.SamanthaButton,{type:"tertiary",...i,onClick:n,children:d("bookmarks_delete_confirm")}),(0,a.jsx)(h.SamanthaButton,{className:p["confirm-delete-btn"],type:"primary",...l,onClick:u&&(()=>u({needRemoveChildren:f})),children:d("bookmarks_delete_cancel")})]})]})]})};var _=n("95861"),w=n("55244"),S=n("82686"),k=n("4191"),x=n("97959");let C=e=>{let{collectionId:t,childCollectionCount:n=0,trackParams:l,showSuccessToast:i=!0,onSuccess:s,onError:u}=e,c=(0,r.useTranslateFn)(),[d,f]=(0,o.useState)(!1),{loading:m,run:g}=(0,_.default)(async function(){let{deleteChildren:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)throw Error("collectionId is required");await x.samanthaApiService.DeleteCollection({id:t,delete_children:e})},{manual:!0,onSuccess(){i&&S.Toast.success({showClose:!1,content:c("bookmarks_delete_complete")}),(0,w.trackEvent)("collection_button_click_unsave_status",{...l,success:1}),f(!1),null==s||s({collectionId:t})},onError(e){(0,w.trackEvent)("collection_button_click_unsave_status",{...l,success:-1}),k.logger.error({error:e}),null==u||u({collectionId:t,error:e})}}),v=(0,a.jsx)(b,{visible:d,onOk:e=>{let{needRemoveChildren:t}=e;g({deleteChildren:t})},okButtonProps:{loading:m},onCancel:()=>{(0,w.trackEvent)("collection_button_click_unsave_status",{...l,success:0}),f(!1)},hasChildren:n>0});return{deleteCollectionLoading:m,deleteCollection:g,deleteConfirmModal:v,setShowCollectionDeleteConfirm:f}}},24325:function(e,t,n){n.d(t,{withSuspense:function(){return i}});var r=n(97458),l=n(52983);let i=function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{shouldForwardRef:a=!0}=i,o=a?(0,l.forwardRef)(function(n,i){return(0,r.jsx)(l.Suspense,{fallback:t&&(0,r.jsx)(t,{...n}),children:(0,r.jsx)(e,{ref:i,...n})})}):n=>(0,r.jsx)(l.Suspense,{fallback:t&&(0,r.jsx)(t,{...n}),children:(0,r.jsx)(e,{...n})});return o.displayName=null!==(n=e.displayName)&&void 0!==n?n:null==t?void 0:t.displayName,o}},44768:function(e,t,n){var r,l,i;n.d(t,{BotItemFromPage:function(){return s},BotShareStatus:function(){return o},DisabledTag:function(){return a}});let a=((r={}).Reviewing="reviewing",r.Ban="ban",r.Delete="delete",r.Private="private",r.Rollback="rollback",r);let o=((l={}).Shareable="shareable",l.Disable="disable",l);let s=((i={}).Discover="discover",i.Profile="profile",i)},55048:function(e,t,n){let r;n.d(t,{initFeatureConfig:function(){return k},pullFeatureConfigFromUserConfigSingle:function(){return _},useFeatureConfigEffect:function(){return S},useFeatureConfig:function(){return w},FG_FEATURE_CONFIG_KEY:function(){return v},intersectFeatureConfigFromLaunch:function(){return h}});var l,i=n("52983"),a=n("68026"),o=n("59574"),s=n("28760"),u=n("4191"),c=n("22431"),d=n("97959"),f=n("87408"),m=n("59146");let g={answer_with_suggest:c.UserConfigObject.AnswerWithSuggest,answer_with_video:c.UserConfigObject.AnswerWithVideo,named_entity_highlight:c.UserConfigObject.HighlightKeyword,personalized_recommend:c.UserConfigObject.PersonalizedRecommend,save_chat_history:c.UserConfigObject.SaveChatHistory},v="featureConfig",h=(e,t)=>Object.fromEntries((0,a.default)([...Object.keys(e),...Object.keys(t||{})]).map(n=>{let r=e[n],l=null==t?void 0:t[n];return(0,o.default)(l)?[]:[n,{enabled:l.enabled,default_value:l.default_value,value:null==r?void 0:r.value,version:null==r?void 0:r.version}]}).filter(e=>!!(null==e?void 0:e.length))),p=(e,t)=>t?Object.fromEntries(Object.keys(e).map(n=>{var r;let l=e[n],i=null==t?void 0:null===(r=t.configs)||void 0===r?void 0:r.find(e=>e.object===g[n]);return i?[n,{...l,...Number(i.version)<Number(null==l?void 0:l.version)?{}:{version:i.version,value:!!Number(i.value)}}]:[n,l]})):e,b=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enabled:null==e?void 0:e.enabled,value:null!==(n=null!==(t=(null==e?void 0:e.enabled)?null==e?void 0:e.value:void 0)&&void 0!==t?t:null==e?void 0:e.default_value)&&void 0!==n?n:r}};let _=(l=async(e,t,n)=>{let{objects:r=Object.values(g),reason:l=c.UserConfigPullReason.Startup}=t||{},i=++e,{data:a}=await d.profileApiService.PullUserConfig({objects:r,reason:l}).catch(()=>(u.logger.persist.warning("fetchUserConfig fail"),{data:void 0}));if(i<e&&!n||!a)throw Error("skipped setFeatureConfig");(0,f.setFGValueAll)(v,p((0,f.getFGValueAll)(v),a))},r=null,function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&!t)return r;(r=l(0,e,t)).then(()=>{r=null}).catch(e=>{u.logger.console.info("setFeatureConfig skipped")})}),w=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b((0,f.useFGValue)(e,{source:v}),t)},S=()=>{let e=(0,m.useUserIdStr)(),t=(0,s.default)(e);(0,i.useEffect)(()=>{if(t&&e&&t!==e)try{(0,f.setFGValueAll)(v,{},{replace:!0})}catch(e){u.logger.persist.error({message:"[createUserSlice] genUserDefaultProfile resetFeatureConfig failed",error:e})}},[e,t])};function k(){(0,f.initFG)({[v]:{load:()=>Promise.resolve({})}})}}}]);