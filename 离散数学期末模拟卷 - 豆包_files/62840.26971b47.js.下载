"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["62840"],{5076:function(e,t,n){n.d(t,{addQuery:function(){return o},getUrlParams:function(){return l},isValidUrl:function(){return u},parseHashOrQuery:function(){return i},safeParseUrl:function(){return s},toURL:function(){return a}});var r=n(57671);let a=(e,t)=>{try{let n=new URL(e);return Object.entries(t).forEach(e=>{let[t,r]=e;n.searchParams.append(t,String(r))}),n.toString()}catch(a){let n=r.default.stringify(t);return"".concat(e).concat(n?"?".concat(n):"")}},i=e=>{let t=e.startsWith("#")||e.startsWith("?")?e.slice(1):e,n={},r=/([^&=]+)=([^&]*)/g,a=null;for(;a=r.exec(t);){let[,e,t]=a;try{n[decodeURIComponent(e)]=decodeURIComponent(t)}catch(e){continue}}return n},o=(e,t)=>{let n={...i(e.split("#")[0].split("?")[1]||""),...i(e.split("#")[1]||"")};return a(e.split("#")[0].split("?")[0],{...n,...t}).replace(/\?$/,"")},s=e=>{try{return new URL(e)}catch(e){return null}},l=e=>"undefined"==typeof window?null:new URLSearchParams(new URL(window.location.href).search).get(e),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n;let r=new URL(e);return(!t.allowedProtocols||t.allowedProtocols.includes(r.protocol))&&(!t.allowedExtensions||t.allowedExtensions.map(e=>e.toLowerCase()).includes(null!==(n=r.pathname.split(".").pop())&&void 0!==n?n:""))&&(!t.allowedHosts||t.allowedHosts.includes(r.host))}catch(e){return!1}}},12819:function(e,t,n){n.d(t,{isOAuth2RouteParameter:function(){return p},DefaultCookieService:function(){return I},isPollingUserInfoRedirect:function(){return f},isPostMessageRedirect:function(){return _},oauth2Redirect:function(){return v},resetAuthLoginDataFromRoute:function(){return P},parseOAuthUrl:function(){return L}});var r,a=n("97275"),i=n("51401"),o=n("93997"),s=n("5076");let l=(e,t)=>{let n=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return{left:n/2-e/2+window.screenLeft,top:r/2-t/2+window.screenTop}},u=e=>{let{path:t,width:n=700,height:r=700}=e,{left:a,top:i}=l(n,r);window.open(t,"_blank","width=".concat(n,",height=").concat(r,",left=").concat(a,",top=").concat(i,",resizable=no,location=no,menubar=no"))},c=e=>{let t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t)};let d=((r={}).ASSIGN="assign",r.REPLACE="replace",r.OPEN="open",r.POPUP="popup",r.POPUP_AUTO_LOGIN="popup_auto_login",r.IFRAME_AUTO_LOGIN="iframe_auto_login",r),g=e=>e&&[d.POPUP,d.POPUP_AUTO_LOGIN,d.OPEN,d.IFRAME_AUTO_LOGIN].includes(e),_=e=>e&&[d.POPUP,d.OPEN].includes(e),f=e=>g(e)&&!_(e),p=e=>(null==e?void 0:e.authLoginData)&&(0,a.default)(null==e?void 0:e.type),h=e=>(0,a.default)(e)?e:(0,o.stringifyJSON)(e),m=e=>{let t=h(e);return window.btoa(t)},w=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{state:r,...a}=t,{encodeState:i=!0,extraParameter:o}=n;return(0,s.toURL)(e,{...o,...a,state:i?m(r):h(r)})},v=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{redirectMethod:r=d.ASSIGN}=n,a=w(e,t,n);switch(r){case d.ASSIGN:location.assign(a);return;case d.REPLACE:location.replace(a);return;case d.OPEN:window.open(a);return;case d.POPUP:case d.POPUP_AUTO_LOGIN:u({path:a});return;case d.IFRAME_AUTO_LOGIN:c(a);return;default:return}},P=()=>{window.history.replaceState({},"")},S=e=>null!=e,O=e=>!!S(e)&&(0,a.default)(e.platform)&&(0,a.default)(e.navigatePath)&&(0,a.default)(e.type),y=e=>{let t=window.atob(e);try{let e=JSON.parse(t);if(O(e))return e;throw Error("Wrong structure of json stringified Oauth2String")}catch(e){if(e instanceof SyntaxError)return t;throw e}},E=e=>!!S(e)&&((0,a.default)(e.access_token)||(0,a.default)(e.code))&&(0,a.default)(e.state),L=e=>{let t=(0,s.parseHashOrQuery)(e.hash||e.search);if(!E(t))throw Error("Wrong structure of oauth2 callback parameter");let n=y(t.state);if((0,a.default)(n))throw Error("OAuth2 state in flow third party login must not be string");let{access_token:r,code:i}=t;return{access_token:r,code:i,state:n}},I={get:e=>Promise.resolve(i.default.get(e)),set:(e,t)=>Promise.resolve(i.default.set(e,t))}},42608:function(e,t,n){n.d(t,{getSSOEmail:function(){return a}});var r=n(97473);let a=()=>{let e=r.FlowLocalStorage.getItem("FLOW_CURRENT_USER_EMAIL");return e&&"undefined"!==e?e:null}},43868:function(e,t,n){n.d(t,{loadTeaLandingUrl:function(){return i},saveTeaLandingUrl:function(){return a}});let r="",a=e=>{r=e},i=e=>e&&r.length>300?r.slice(0,300):r},40863:function(e,t,n){var r;n.d(t,{QueryKeys:function(){return a}});let a=((r={}).ORIGIN_LANDING="origin_landing",r)},91534:function(e,t,n){n.d(t,{getSemChannel:function(){return a}});var r=n(5076);let a=e=>{var t;return(0,r.parseHashOrQuery)(null===(t=e||location)||void 0===t?void 0:t.search).channel}},64267:function(e,t,n){n.d(t,{getIsExpand:function(){return _},getIsOpenTemporarily:function(){return h},openSidebarIfDid:function(){return v},setIsOpenTemporarily:function(){return p},setSidebarExpand:function(){return d},setSidebarExpandWithoutInteraction:function(){return g},useHasExpandInteracted:function(){return m},useIsOpenTemporarily:function(){return f},useSideBarExpanded:function(){return c}});var r=n(37222),a=n(85205),i=n(97473),o=n(75153);let s={isExpand:!0,isOpenTemporarily:!1,hasInteracted:!1,hasExpandInteracted:!1},l=()=>({...s}),u=(()=>{let e=(0,r.persist)(l,{name:"flow-web-sidebar-store",getStorage:()=>i.FlowLocalStorage,partialize:e=>({isExpand:e.isExpand,hasExpandInteracted:e.hasExpandInteracted})});return(0,o.isEnableDebug)()?(0,a.create)()((0,r.devtools)(e,{name:"flow-web-sidebar-store"})):(0,a.create)()(e)})(),c=()=>u(e=>e.isExpand),d=e=>{u.setState({isExpand:e,hasInteracted:!0,hasExpandInteracted:!0})},g=e=>{u.setState({isExpand:e})},_=()=>u.getState().isExpand,f=()=>u(e=>e.isOpenTemporarily),p=e=>{u.setState({isOpenTemporarily:e,hasInteracted:!0})},h=()=>u.getState().isOpenTemporarily,m=()=>u(e=>e.hasExpandInteracted),w=()=>u.getState().hasExpandInteracted,v=()=>{w()&&g(!0)}},16761:function(e,t,n){n.d(t,{TeaKeys:function(){return H},SamanthaDoubaoTeaAppId:function(){return W},initWebTeaConfig:function(){return K}});var r,a,i=n("73706"),o=n.n(i),s=n("51996"),l=n("78569"),u=n("97473"),c=n("62044"),d=n("42608"),g=n("87408"),_=n("85668"),f=n("16627");n("2035");var p=n("54987"),h=n("72364"),m=n("40863"),w=n("43868"),v=n("12819");let P=e=>{if(!e)return{};let t={ug_landing_url:e};try{let n=new URL(e).searchParams.get("channel");t.utm_source=n||""}catch(e){}return t},S=e=>{let t=new URL(e);return t.searchParams.get("channel")&&t.searchParams.get("source")},O=(e,t)=>{let n=new URLSearchParams(e).get(m.QueryKeys.ORIGIN_LANDING);return n?decodeURIComponent(n):t},y=()=>{try{let e=u.FlowLocalStorage.getItem("flow_web_landing_page_url"),{origin:t,pathname:n,search:r}=e?new URL(e):location,a="".concat(t).concat(n).concat(r);return!e&&S(a)&&u.FlowLocalStorage.setItem("flow_web_landing_page_url",a),{defaultLandingUrl:a,pathname:n,search:r}}catch(r){let{origin:e,pathname:t,search:n}=location;return{defaultLandingUrl:"".concat(e).concat(t).concat(n),pathname:t,search:n}}},E=()=>{let{defaultLandingUrl:e,pathname:t,search:n}=y();if(Object.values(p.AUTH_CALLBACK_ROUTE).includes(t))try{let{state:t}=(0,v.parseOAuthUrl)(location);if("string"!=typeof t.navigatePath)return e;let{search:n}=new URL("".concat(origin).concat(t.navigatePath));return O(n,e)}catch(t){return e}if(n.includes(m.QueryKeys.ORIGIN_LANDING))try{return O(n,e)}catch(e){}return e},L=e=>{try{return new URL(e).searchParams.get("channel")||void 0}catch(e){return e instanceof Error?"error: ".concat(null==e?void 0:e.message):e}},I=e=>{try{let{searchParams:t}=new URL(e);return{from_source:t.get("source")||((0,s.isInSuperApp)()?"lark":"other"),op_tracking:t.get("op_tracking")||((0,s.isInSuperApp)()?"other":void 0),op_tracking_id:t.get("op_tracking_id"),source_scene:t.get("source_scene")||void 0,utm_source:t.get("utm_source")||"",chanel:t.get("channel")||void 0}}catch(e){return{}}},U=()=>{let e=E();return(0,w.saveTeaLandingUrl)(e),{header:{ug_source:L(e),...P(e),...(0,h.default)(I(e),["from_source","op_tracking","op_tracking_id"])},event:{landing_page_url:e,app_id:482431}}};var A=n("84970");let b=e=>{let t=e[0];if(!t)return e;let n=["enter_page","click_login","login_result","login_type_show"],r=["enter_page"];return t.events.forEach(e=>{let{event:t}=e,a=(0,A.getUGLandingDynamicTeaParams)({eventName:t}),i=(0,A.getSeoParams)();a=n.includes(t)?{...a,...i}:{...a,url:i.url,url_path:i.url_path},r.includes(t)&&(a={...a,...(0,A.getSidebarTeaParams)()});let o={...JSON.parse(e.params||"null"),...a};e.params=JSON.stringify(o)}),e};let R=((r={}).Mssdk="mssdkPromise",r.BdMsSdk="bdmssdkPromise",r.MsSdkReady="msSdkReady",r.TTWid="ttwid",r.Launch="launchPromise",r.ProfileSelfBrief="ProfileSelfBriefPromise",r.AccountInfo="accountInfoPromise",r.GuestLayoutMode="guestLayoutModePromise",r.Guidance="guidancePromise",r.SkillList="skillListPromise",r.OpenIdPromise="openIdPromise",r);var T=n("96423"),N=n("43285"),C=n("97959");let D=async()=>(await window[R.TTWid],await (0,N.retryAsync)(async()=>{let e=await C.accountApiService.GetWebAnonID();if(!(null==e?void 0:e.uid)||"0"===e.uid||String(e.web_id)===e.uid)throw Error("guest uid is empty");return e},3,e=>800*e)),G={guest_guidance_type:{parmas:["guestGuidanceType","value"],is_login:!1}},x=e=>{var t;return(null===(t=window.distributaryInfo)||void 0===t?void 0:t.mainSSR)&&(G.main_ssr={parmas:["main_ssr","enable"],ignore_login_status:!0}),C.samanthaApiService.GetSetting({ab_param:{uuid:e,exposure_unlogin_msg:"1",ab_request:G}})},k=(0,T.default)(e=>{x(String(e))}),W=582478;let H=((a={}).create_bot_auto_fill_web="create_bot_auto_fill_web",a.enable_tts="enable_tts",a),M=()=>{switch((0,s.getSamanthaClientType)()){case"Cici":return 582465;case"Doubao":return W;default:return 497858}},F=async e=>{var t,n,r,a,i,l;let c=(0,d.getSSOEmail)(),g=u.FlowLocalStorage.getItem("flow_tea_user_id"),h="undefined"==typeof window?{}:{screen_width:window.innerWidth,screen_height:window.innerHeight},{header:m,event:w}=U(),v=(0,s.isInSuperApp)()?null===(t=await (null===(n=window.openIdPromise)||void 0===n?void 0:n.catch(()=>({open_id:void 0}))))||void 0===t?void 0:t.open_id:void 0;return{app_id:e||M(),_staging_flag:0,samantha_version_client:(0,s.getSamanthaClientVersion)(),is_test_env:window.location.hostname.startsWith("www")?0:1,is_samantha_client:(0,s.isSamanthaClient)()?"1":"0",scm_version:(0,p.scmVersion)(),evtParams:{email:c,env:(0,f.getEnv)(),region:"cn",isDevMode:!1,isReleaseVersion:!0,scmVersion:(0,p.scmVersion)(),init_id:"".concat(Math.floor(null!==(l=null===(r=performance)||void 0===r?void 0:r.timeOrigin)&&void 0!==l?l:Date.now()),"_").concat(c),os:"web",os_name:"web",web_device:o().getParser(navigator.userAgent).getOSName(!0),inner_region:(0,_.getCountry)()||void 0,...h,...w},...g?{user_id:g||""}:{},user_is_login:!!g,is_pwa:(0,s.isPWA)()?"1":"0",samantha_web:"1",prefers_color_scheme:(null===(a=(i=window).matchMedia)||void 0===a?void 0:a.call(i,"(prefers-color-scheme: dark)").matches)?"dark":"light",open_id:v,...m}},B=()=>window[c.PromiseName.GuestLayoutMode],K=async(e,t)=>{let{appId:n,lifecycle:r}=t||{},a=await F(n);(0,l.initTeaConfig)(e,a,{lifecycle:r,filterEvent:b,autoExposureAbTest:k,getWebAnonID:D,getPreRequestAbTest:B}),(0,g.initFG)({tea:{Tea:e}})}},84970:function(e,t,n){n.d(t,{getSeoParams:function(){return s},getSidebarTeaParams:function(){return l},getTeaCommonParams:function(){return c},getUGLandingDynamicTeaParams:function(){return u}});var r=n(5076),a=n(51996),i=n(91534),o=n(64267);let s=()=>{let{channel:e}=(0,r.parseHashOrQuery)(location.search);return{url:window.location.href,url_path:window.location.pathname,traffic_type:"baidu"===e||"360"===e?"sem":"organic"}},l=()=>({whether_sidebar_show:(0,o.getIsExpand)()?"1":"2"}),u=e=>({event_name:null==e?void 0:e.eventName,event_ts:Math.floor(Date.now()/1e3),growth_deepevent:"4"}),c=()=>{var e,t;return{is_main_ssr:"0",render_level:null!==(t=null===(e=window._SSR_DATA)||void 0===e?void 0:e.renderLevel)&&void 0!==t?t:"0",is_samantha_client:(0,a.isSamanthaClient)()?"1":"0",is_from_ug:(0,i.getSemChannel)()?"1":"0"}}},16627:function(e,t,n){n.d(t,{featureEnableChat:function(){return r},getEnv:function(){return o},isBetaEnv:function(){return s}});let r=!0,a="online";var i={BOE:"BOE",TEST:"TEST",PROD:"PROD",LOCAL:"LOCAL",UNKNOWN:"UNKNOWN"};let o=()=>{!0;return i.PROD},s=!1}}]);